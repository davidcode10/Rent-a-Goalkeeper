(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[0],{59:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(29),o=n.n(r),s=n(7),i=n(9),l=n(11),j=n(10),h=(n(67),n(68),n(105)),u=n(99),d=n(104),b=n(100),O=n(14),p=(n(69),n(31)),x=n.n(p),g=function e(){var t=this;Object(s.a)(this,e),this.login=function(e){return t.app.post("/login",e)},this.signup=function(e){return t.app.post("/signup",e)},this.logout=function(){return t.app.get("/logout")},this.isloggedin=function(){return t.app.post("/isloggedin")},this.editUser=function(e){return t.app.put("/profile/".concat(e))},this.followGk=function(e,n){return t.app.put("/favoriteGks/".concat(e),n)},this.app=x.a.create({baseURL:"".concat("https://rental-goalkeeper.herokuapp.com/api","/auth"),withCredentials:!0})},v=n(1),m=function(e){var t=e.loggedUser,n=e.storeUser;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.a,{bg:"#54595F",className:"navbar justify-content-between",children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(O.b,{to:"/",className:"nav-link",children:"Rent a GoalKeeper"}),"GOALKEEPER"===(null===t||void 0===t?void 0:t.role)?Object(v.jsx)(O.b,{to:"/convocations",className:"nav-link",children:"Convocations"}):Object(v.jsx)(O.b,{to:"/createconvocations",className:"nav-link",children:"Create Convocations"}),Object(v.jsxs)(d.a,{className:"ml-auto",children:[t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O.b,{to:"/profile",className:"profile-btn",children:"Profile"}),Object(v.jsx)(b.a,{type:"submit",onClick:function(){(new g).logout().then((function(){n(void 0)})).catch((function(e){return console.log("error!!!",e)}))},className:"nav-link",children:"Log Out"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O.b,{to:"/signup",className:"mr-nav-link",children:"Sign Up"}),Object(v.jsx)(O.b,{to:"/login",className:"mr-nav-link",children:"Log In"})]}),Object(v.jsxs)("span",{className:"nav-link",children:["| Hello, ",t?t.username:"invitado"]})]})]})}),Object(v.jsx)("hr",{})]})},f=n(8),C=n(13),y=(n(95),n.p+"static/media/GK.ac59325e.jpg"),k={backgroundImage:"url(".concat(y,")")},w=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"bg-image",style:k,children:Object(v.jsx)(u.a,{children:Object(v.jsx)("div",{className:"mask",style:{backgroundColor:"rgba(0, 0, 0, 0.6)"},children:Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"text",children:[Object(v.jsx)("h1",{children:"Rent a Goalkeeper"}),Object(v.jsx)("h4",{children:"Subheading"}),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(O.b,{className:"btn btn-outline-light btn-lg",to:"/signup",role:"button",children:"Start Now"})})]})})})})})}}]),n}(a.Component),U=n(28),S=n(103),I=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.authService=new g,a}return Object(i.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(U.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.authService.login(this.state).then((function(e){t.props.storeUser(e.data),t.props.history.push("/")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(S.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(v.jsxs)(S.a.Group,{controlId:"username",children:[Object(v.jsx)(S.a.Label,{children:"Username"}),Object(v.jsx)(S.a.Control,{type:"text",value:this.state.username,onChange:function(t){return e.handleInputChange(t)},placeholder:"Enter username",name:"username"})]}),Object(v.jsxs)(S.a.Group,{controlId:"password",children:[Object(v.jsx)(S.a.Label,{children:"Password"}),Object(v.jsx)(S.a.Control,{type:"password",value:this.state.password,onChange:function(t){return e.handleInputChange(t)},placeholder:"Password",name:"password"})]}),Object(v.jsx)(b.a,{variant:"primary",style:{backgroundColor:"#6113b1",border:"none"},type:"submit",children:"Login"})]})}}]),n}(a.Component),G=function(e){var t=e.storeUser,n=e.history;return Object(v.jsxs)(u.a,{children:[Object(v.jsx)("h1",{children:"Login"}),Object(v.jsx)("hr",{}),Object(v.jsx)(I,{storeUser:t,history:n})]})},T=function e(){var t=this;Object(s.a)(this,e),this.uploadimage=function(e){return t.app.post("/image",e)},this.app=x.a.create({baseURL:"".concat("https://rental-goalkeeper.herokuapp.com/api","/uploads"),withCredentials:!0})},F=n(106),L=(n(96),function(e){e.loggedUser;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("p",{children:"And I'm the side bar"}),Object(v.jsxs)(d.a,{className:"col-md-12 block bg sidebar",activeKey:"/home",onSelect:function(e){return alert("selected ".concat(e))},children:[Object(v.jsxs)(F.a,{children:[Object(v.jsx)(F.a.Image,{width:171,height:180,alt:"171x180",src:""}),Object(v.jsx)(F.a.Caption,{})]}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(d.a.Link,{children:Object(v.jsx)(O.b,{to:"/profile/edit",children:"Profile settings"})})}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(d.a.Link,{children:Object(v.jsx)(O.b,{to:"/profile/favorites",children:"Favorites Gks"})})}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(d.a.Link,{children:Object(v.jsx)(O.b,{to:"/profile/myconvocations",children:"My convocations"})})}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(d.a.Link,{children:Object(v.jsx)(O.b,{to:"/profile/acceptedconvocations",children:"Accepted convocations"})})}),Object(v.jsx)(d.a.Item,{children:Object(v.jsx)(d.a.Link,{children:Object(v.jsx)(O.b,{to:"/profile/convocationssended",children:"Convocations sended to you"})})})]})]})}),D=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={username:"",password:"",imageUrl:"",isUploading:!1},e.authService=new g,e.uploadService=new T,e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L,Object(f.a)({},this.props)),Object(v.jsx)(u.a,{children:Object(v.jsxs)(S.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(v.jsxs)(S.a.Group,{controlId:"username",children:[Object(v.jsx)(S.a.Label,{children:"Username"}),Object(v.jsx)(S.a.Control,{type:"text",value:this.state.username,onChange:function(t){return e.handleInputChange(t)},placeholder:"Enter username",name:"username"})]}),Object(v.jsxs)(S.a.Group,{controlId:"password",children:[Object(v.jsx)(S.a.Label,{children:"Password"}),Object(v.jsx)(S.a.Control,{type:"password",value:this.state.password,onChange:function(t){return e.handleInputChange(t)},placeholder:"Password",name:"password"})]}),Object(v.jsx)(S.a,{children:Object(v.jsx)(S.a.Group,{controlId:"imageUrl",children:Object(v.jsx)(S.a.File,{id:"exampleFormControlFile1",label:"Upload your photo",onChange:function(t){return e.handleFileUpload(t)}})})}),Object(v.jsx)(b.a,{variant:"dark",style:{backgroundColor:"#6113b1",border:"none"},type:"submit",disabled:this.state.isUploading,children:this.state.isUploading?"Wait...":"Submit"})]})})]})}}]),n}(a.Component),N=n(61),A=n(107),E=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L,Object(f.a)({loggedUser:this.props.loggedUser},this.props)),Object(v.jsx)(u.a,{children:Object(v.jsx)(N.a,{md:3,children:Object(v.jsx)(A.a,{className:"convocations-card",style:{width:"18rem"},children:Object(v.jsxs)(A.a.Body,{children:[Object(v.jsx)(F.a,{children:Object(v.jsx)(F.a.Image,{width:171,height:180,alt:"171x180",src:""})}),Object(v.jsx)(A.a.Title,{children:"Name"}),Object(v.jsx)(A.a.Text,{})]})})})})]})}}]),n}(a.Component),K=n(102),M=n(101),R=(n(59),function(e){var t=e.localName,n=e.location,a=e.category,c=e.matchDate,r=e.matchDuration,o=e.numberOfGks,s=e.goalkeeper,i=e.showModal;return Object(v.jsx)(N.a,{md:3,children:Object(v.jsx)(A.a,{className:"convocations-card",style:{width:"18rem"},children:Object(v.jsxs)(A.a.Body,{children:[Object(v.jsx)(A.a.Title,{children:t}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Adress: "})," ",n]}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Category: "})," ",a]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Date: "})," ",c]}),Object(v.jsxs)(A.a.Text,{children:["Time: ",r," hour(s)"]}),Object(v.jsxs)(A.a.Text,{children:["We need: ",o," Goalkeeper(s)"]}),s.length?Object(v.jsxs)(A.a.Text,{children:["GK(s) of your match: ",s.map((function(e){return Object(v.jsx)("small",{onClick:function(){return i(e)},children:e.username})}))]}):Object(v.jsx)(A.a.Text,{children:"There's no Gks"})]})})})}),P=function e(){var t=this;Object(s.a)(this,e),this.getAllConvocations=function(){return t.app.get("/getAllConvocations")},this.getOwnerConvocations=function(){return t.app.get("/getOwnerConvocation")},this.gkConvocations=function(){return t.app.get("/getGkConvocation")},this.editOneConvocation=function(e,n){return t.app.put("/editConvocation/".concat(e),n)},this.createConvocation=function(e){return t.app.post("/newConvocation",e)},this.app=x.a.create({baseURL:"".concat("https://rental-goalkeeper.herokuapp.com/api","/convocations"),withCredentials:!0})},B=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.call(this)}return Object(i.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(K.a.Header,{closeButton:!0,children:Object(v.jsxs)(F.a,{children:[Object(v.jsx)(F.a.Image,{width:171,height:180,alt:"171x180",src:this.props.goalkeeper.imageUrl}),Object(v.jsx)(F.a.Caption,{})]})}),Object(v.jsxs)(K.a.Body,{children:[Object(v.jsx)("h4",{children:this.props.goalkeeper.username}),Object(v.jsx)("p",{children:"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros."})]})]})}}]),n}(a.Component),_=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={convocations:[],modalShow:!1},e.convocationsService=new P,e.authService=new g,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadOwnerConvocations(),this.followGk()}},{key:"loadOwnerConvocations",value:function(){var e=this;this.convocationsService.getOwnerConvocations().then((function(t){return e.setState({convocations:t.data})})).catch((function(e){return console.log("error",e)}))}},{key:"followGk",value:function(){this.authService.followGk({state:!0}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"openModal",value:function(e){this.setState({modalShow:!0,goalkeeper:e})}},{key:"render",value:function(){var e=this,t=this.state.convocations;return Object(v.jsx)(u.a,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("hr",{}),Object(v.jsxs)(K.a,{loggedUser:this.props.loggedUser,style:{flexDirection:"column"},size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:this.state.modalShow,children:[Object(v.jsx)(B,{goalkeeper:this.state.goalkeeper}),Object(v.jsxs)(K.a.Footer,{children:[Object(v.jsx)(b.a,{onClick:function(){return e.followGk()},children:"Follow"}),Object(v.jsx)(b.a,{onClick:function(){return e.setState({modalShow:!1})},children:"Close"})]})]}),Object(v.jsx)(M.a,{children:t.map((function(t){return Object(v.jsx)(R,Object(f.a)(Object(f.a)({},t),{},{showModal:function(t){return e.openModal(t)},loggedUser:e.props.loggedUser,refreshConvocations:function(){return e.loadOwnerConvocations()}}),t._id)}))})]})})}}]),n}(a.Component),W=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L,Object(f.a)({},this.props)),Object(v.jsx)("p",{children:"I'm your convocations"}),Object(v.jsx)(_,{})]})}}]),n}(a.Component),H=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"I'm your profile"}),Object(v.jsx)(L,Object(f.a)({},this.props))]})}}]),n}(a.Component),J=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={username:"",password:"",role:["USER","GOALKEEPER"],imageUrl:"",isUploading:!1},e.authService=new g,e.uploadsService=new T,e}return Object(i.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target.value,n=e.target.name;this.setState(Object(U.a)({},n,t))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.authService.signup(this.state).then((function(e){t.props.history.push("/login")})).catch((function(e){console.log("error!",e)}))}},{key:"handleFileUpload",value:function(e){var t=this;this.setState({isUploading:!0});var n=new FormData;n.append("imageData",e.target.files[0]),this.uploadsService.uploadimage(n).then((function(e){return t.setState({isUploading:!1,imageUrl:e.data.secure_url})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(S.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(v.jsxs)(S.a.Group,{controlId:"username",children:[Object(v.jsx)(S.a.Label,{children:"Username"}),Object(v.jsx)(S.a.Control,{type:"text",value:this.state.username,onChange:function(t){return e.handleInputChange(t)},placeholder:"Enter username",name:"username"})]}),Object(v.jsxs)(S.a.Group,{controlId:"password",children:[Object(v.jsx)(S.a.Label,{children:"Password"}),Object(v.jsx)(S.a.Control,{type:"password",value:this.state.password,onChange:function(t){return e.handleInputChange(t)},placeholder:"Password",name:"password"})]}),Object(v.jsxs)(S.a.Group,{controlId:"role",children:[Object(v.jsx)(S.a.Check,{type:"checkbox",value:"USER",onChange:function(t){return e.handleInputChange(t)},label:"I want a GoalKeeper",name:"role"}),Object(v.jsx)(S.a.Check,{type:"checkbox",value:"GOALKEEPER",onChange:function(t){return e.handleInputChange(t)},label:"I am a GoalKeeper",name:"role"})]}),Object(v.jsx)(S.a,{children:Object(v.jsx)(S.a.Group,{controlId:"imageUrl",children:Object(v.jsx)(S.a.File,{id:"exampleFormControlFile1",label:"Upload your photo",onChange:function(t){return e.handleFileUpload(t)}})})}),Object(v.jsx)(b.a,{variant:"dark",style:{backgroundColor:"#6113b1",border:"none"},type:"submit",disabled:this.state.isUploading,children:this.state.isUploading?"Wait...":"Submit"})]})}}]),n}(a.Component),Y=function(e){var t=e.history;return Object(v.jsxs)(u.a,{children:[Object(v.jsx)("h1",{children:"Sign up!"}),Object(v.jsx)("hr",{}),Object(v.jsx)(J,{history:t})]})},q=function(e){var t=e.localName,n=e.location,a=e.category,c=e.matchDate,r=e.matchDuration,o=e.numberOfGks,s=(e.loggedUser,e.goalkeeper),i=(e._id,e.owner),l=(e.refreshConvocations,e.state);return Object(v.jsx)(N.a,{md:3,children:Object(v.jsx)(A.a,{className:"convocations-card",style:{width:"18rem"},children:Object(v.jsxs)(A.a.Body,{children:[Object(v.jsxs)(F.a,{children:[Object(v.jsx)(F.a.Image,{width:100,height:180,style:{borderRadius:"50%"},alt:"171x180",src:i.imageUrl}),Object(v.jsx)(F.a.Caption,{})]}),Object(v.jsxs)(A.a.Text,{children:["@",i?i.username:"desconocido"]}),Object(v.jsx)(A.a.Title,{children:t}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Adress: "})," ",n]}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Category: "})," ",a]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Date: "})," ",c]}),Object(v.jsxs)(A.a.Text,{children:["Time: ",r," hour(s)"]}),Object(v.jsxs)(A.a.Text,{children:["We need: ",o," Goalkeeper(s)"]}),l&&Object(v.jsxs)(A.a.Text,{children:["The GK(s) ",s.map((function(e){return Object(v.jsx)("small",{children:e.username},e.username)}))," has accepted the convocation"]})]})})})},z=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={convocations:[]},e.convocationsService=new P,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadGkConvocations()}},{key:"loadGkConvocations",value:function(){var e=this;this.convocationsService.gkConvocations().then((function(t){return e.setState({convocations:t.data})})).catch((function(e){return console.log("error",e)}))}},{key:"render",value:function(){var e=this,t=this.state.convocations;return Object(v.jsxs)(u.a,{children:[Object(v.jsx)(L,Object(f.a)({},this.props)),Object(v.jsx)("h1",{children:"Accepted Convocations"}),Object(v.jsx)("hr",{}),Object(v.jsx)(M.a,{children:t.map((function(t){return Object(v.jsx)(q,Object(f.a)(Object(f.a)({},t),{},{loggedUser:e.props.loggedUser,refreshConvocations:function(){return e.loadGkConvocations()}}),t._id)}))})]})}}]),n}(a.Component),Q=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(L,Object(f.a)({},this.props)),Object(v.jsx)("p",{children:"This is the convocations sended to youuuu"})]})}}]),n}(a.Component),V=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={convocation:{localName:"",location:"",category:"",matchDate:Date,matchDuration:0,numberOfGks:0,owner:a.props.loggedUser}},a.convocationService=new P,a}return Object(i.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({convocation:Object(f.a)(Object(f.a)({},this.state.convocation),{},Object(U.a)({},n,a))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.convocationService.createConvocation(this.state.convocation).then((function(){t.props.history.push("/createconvocations")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(u.a,{children:[Object(v.jsxs)(S.a,{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(v.jsxs)(S.a.Group,{controlId:"localName",children:[Object(v.jsx)(S.a.Label,{children:"Local Name"}),Object(v.jsx)(S.a.Control,{type:"text",value:this.state.localName,onChange:function(t){return e.handleInputChange(t)},name:"localName"})]}),Object(v.jsxs)(S.a.Group,{controlId:"location",children:[Object(v.jsx)(S.a.Label,{children:"Location"}),Object(v.jsx)(S.a.Control,{type:"text",value:this.state.location,onChange:function(t){return e.handleInputChange(t)},name:"location"})]}),Object(v.jsxs)(S.a.Group,{controlId:"category",children:[Object(v.jsx)(S.a.Label,{children:"Category"}),Object(v.jsx)(S.a.Check,{type:"checkbox",value:"FUTSAL",onChange:function(t){return e.handleInputChange(t)},label:"Futsal",name:"category"}),Object(v.jsx)(S.a.Check,{type:"checkbox",value:"FOOTBALL 7",onChange:function(t){return e.handleInputChange(t)},label:"Football 7",name:"category"}),Object(v.jsx)(S.a.Check,{type:"checkbox",value:"FOOTBALL 11",onChange:function(t){return e.handleInputChange(t)},label:"Football 11",name:"category"})]}),Object(v.jsxs)(S.a.Group,{controlId:"matchDate",children:[Object(v.jsx)(S.a.Label,{children:"Date"}),Object(v.jsx)(S.a.Control,{type:"datetime-local",name:"matchDate",value:this.state.matchDate,onChange:function(t){return e.handleInputChange(t)}})]}),Object(v.jsxs)(S.a.Group,{controlId:"matchDuration",children:[Object(v.jsx)(S.a.Label,{children:"Match duration/hour(s)"}),Object(v.jsx)(S.a.Control,{type:"number",name:"matchDuration",value:this.state.matchDuration,onChange:function(t){return e.handleInputChange(t)}})]}),Object(v.jsxs)(S.a.Group,{controlId:"numberOfGks",children:[Object(v.jsx)(S.a.Label,{children:"GKs needed (max. 2)"}),Object(v.jsx)(S.a.Control,{type:"number",value:this.state.numberOfGks,name:"numberOfGks",onChange:function(t){return e.handleInputChange(t)}})]}),Object(v.jsx)(b.a,{variant:"dark",style:{width:"100%"},type:"submit",children:"Create Convocation"})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("h1",{children:"Your Convocations"}),Object(v.jsx)(_,Object(f.a)({},this.props))]})}}]),n}(a.Component),X=function(e){var t=e.localName,n=e.location,a=e.category,c=e.matchDate,r=e.matchDuration,o=e.numberOfGks,s=e.loggedUser,i=e.goalkeeper,l=e._id,j=e.owner,h=e.refreshConvocations,u=e.state;return Object(v.jsx)(N.a,{md:3,children:Object(v.jsx)(A.a,{className:"convocations-card",style:{width:"18rem"},children:Object(v.jsxs)(A.a.Body,{children:[Object(v.jsxs)(F.a,{children:[Object(v.jsx)(F.a.Image,{width:100,height:180,style:{borderRadius:"50%"},alt:"171x180",src:j.imageUrl}),Object(v.jsx)(F.a.Caption,{})]}),Object(v.jsxs)(A.a.Text,{children:["@",j?j.username:"desconocido"]}),Object(v.jsx)(A.a.Title,{children:t}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Adress: "})," ",n]}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Category: "})," ",a]}),Object(v.jsx)("hr",{}),Object(v.jsxs)(A.a.Text,{children:[Object(v.jsx)("strong",{children:"Date: "})," ",c]}),Object(v.jsxs)(A.a.Text,{children:["Time: ",r," hour(s)"]}),Object(v.jsxs)(A.a.Text,{children:["We need: ",o," Goalkeeper(s)"]}),u&&Object(v.jsxs)(A.a.Text,{children:["The GK(s) ",i.map((function(e){return Object(v.jsx)("small",{children:e.username},e.username)}))," has accepted the convocation"]}),i.some((function(e){return e._id===(null===s||void 0===s?void 0:s._id)}))?Object(v.jsx)(b.a,{children:"Ya ests apuntado"}):Object(v.jsx)(b.a,{onClick:function(){(new P).editOneConvocation(l,{state:!0,numberOfGks:o,goalkeeper:i,loggedUser:s}).then((function(){return h()})).catch((function(e){return console.log(e)}))},children:"Accept Convocation"})]})})})},Z=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={convocations:[]},e.convocationsService=new P,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadConvocations()}},{key:"loadConvocations",value:function(){var e=this;this.convocationsService.getAllConvocations().then((function(t){return e.setState({convocations:t.data})})).catch((function(e){return console.log("Error!",e)}))}},{key:"render",value:function(){var e=this,t=this.state.convocations;return Object(v.jsx)(u.a,{children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("hr",{}),Object(v.jsx)(M.a,{children:t.map((function(t){return Object(v.jsx)(X,Object(f.a)(Object(f.a)({},t),{},{loggedUser:e.props.loggedUser,refreshConvocations:function(){return e.loadConvocations()}}),t._id)}))})]})})}}]),n}(a.Component),$=function(e){var t=e.storeUser,n=e.loggedUser;return Object(v.jsxs)(C.d,{children:[Object(v.jsx)(C.b,{path:"/",exact:!0,render:function(){return Object(v.jsx)(w,{})}}),Object(v.jsx)(C.b,{path:"/convocations",render:function(e){return Object(v.jsx)(Z,Object(f.a)(Object(f.a)({},e),{},{loggedUser:n,history:e.history}))}}),Object(v.jsx)(C.b,{path:"/createconvocations",render:function(e){return Object(v.jsx)(V,Object(f.a)(Object(f.a)({loggedUser:n},e),{},{history:e.history}))}}),Object(v.jsx)(C.b,{path:"/login",render:function(e){return Object(v.jsx)(G,{storeUser:t,history:e.history})}}),Object(v.jsx)(C.b,{path:"/signup",render:function(e){return Object(v.jsx)(Y,{history:e.history})}}),Object(v.jsx)(C.b,{path:"/profile",exact:!0,render:function(e){return n?Object(v.jsx)(H,Object(f.a)(Object(f.a)({},e),{},{loggedUser:n})):Object(v.jsx)(C.a,{to:"/login"})}}),Object(v.jsx)(C.b,{path:"/profile/edit",render:function(){return Object(v.jsx)(D,{})}}),Object(v.jsx)(C.b,{path:"/profile/favorites",render:function(){return Object(v.jsx)(E,{})}}),Object(v.jsx)(C.b,{path:"/profile/myconvocations",render:function(e){return n?Object(v.jsx)(W,Object(f.a)(Object(f.a)({},e),{},{loggedUser:n})):Object(v.jsx)(C.a,{to:"/login"})}}),Object(v.jsx)(C.b,{path:"/profile/acceptedconvocations",render:function(){return Object(v.jsx)(z,{})}}),Object(v.jsx)(C.b,{path:"/profile/convocationssended",render:function(){return Object(v.jsx)(Q,{})}})]})},ee=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).storeUser=function(t){return e.setState({loggedUser:t})},e.fetchUser=function(){e.authService.isloggedin().then((function(t){return e.setState({loggedUser:t.data})})).catch((function(){return e.setState({loggedUser:void 0})}))},e.state={loggedUser:void 0},e.authService=new g,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(m,{loggedUser:this.state.loggedUser,storeUser:function(t){return e.storeUser(t)}}),Object(v.jsx)("main",{children:Object(v.jsx)($,{storeUser:function(t){return e.storeUser(t)},loggedUser:this.state.loggedUser})})]})}}]),n}(a.Component);o.a.render(Object(v.jsx)(O.a,{children:Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(ee,{})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.702134ef.chunk.js.map